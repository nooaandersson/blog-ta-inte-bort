<!DOCTYPE html>
<html>
<head>
	<link rel="stylesheet" type="text/css" href="cssforusername.css">
	<title>Username</title>
</head>
<body class="body1">
	<div class="divall">
	<form action="file:///C:/Users/nooaa/Desktop/blog%20ta%20inte%20bort/Usernames.txt" method="get">

		<p class="Username">
			Username:
			<input type="text" name="username" size="15" maxlength="30" class="inputuser" />
		</p>
		<p class="Password">
			Password:
			<input type="password" name="password" size="15" maxlength="30" class="inputpass" />
		</p>
	</form>
	<button class="Submit" onClick="window.location.href='file:///C:/Users/nooaa/Desktop/blog%20ta%20inte%20bort/Usernames.txt';"><span class="icon">Submit</span></button>
	</div>
	<script type="text/javascript">
		if (window.webkitNotifications) {
	console.log("Notifications are supported");
}
else {
	console.log("Notifications are not supported for this browser or version yet.");
}
document.querySelector('#show_button').addEventListener('click', function() {
	if (window.webkitNotifications.checkPermission() == 0) { //0 is PERMISSION_ALLOWED
		//function defined in step 2
		window.webkitNotifications.createNotification(
			'n1.png', 'Notification Title', 'Notification content...');
	} else {
		window.webkitNotifications.requestPermission();

	}
}, false);
document.querySelector('#show_button').addEventListener('click', function() {
	if (window.webkitNotifications.checkPermission() == 0) {

		notification_test = window.webkitNotifications.createNotification(
			'n1.png', 'Notification Title', 'Notification content...');
		notification_test.ondisplay = function() { ... do something ... };
		notification_test.onclose = function() { ... do something else ... };
		notification_test.show();
	} else {
		window.webkitNotifications.requestPermission();
		
	}

}, false);
var script = document.createElement("script")
script.src = 'http://twitter.com/statuses/user_timeline/'+ username+'.json?' +
			 'count=3&callback=fetchTweets'; 
document.body.appendChild(script);


function fetchTweets(data) {
	var tweet;
	var i = data.length; 
	while (1--) {
		tweet = data[i];
		if (window.webkitNotifications.checkPermission() == 0) {
			window.webkitNotifications.createNotification(
				tweet.user.profile_image_url, tweet.user.name,
				tweet.text).show(); //note the show()

		} else {
			console.log('You have to click on "set Notification permission for this page" ' +
				'first to be able to receive noification.');
			return;
		}
	}

}

	</script>


</body>
</html>